(function(e){function t(t){for(var s,o,i=t[0],c=t[1],l=t[2],h=0,v=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(v.length)v.shift()();return n.push.apply(n,l||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,i=1;i<r.length;i++){var c=r[i];0!==a[c]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var s={},a={app:0},n=[];function o(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=s,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(r,s,function(t){return e[t]}.bind(null,s));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="app://./";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"12f8":function(e,t,r){},"23ba":function(e,t,r){"use strict";var s=r("12f8"),a=r.n(s);a.a},2601:function(e,t,r){"use strict";var s=r("57e8"),a=r.n(s);a.a},"4bc1":function(e,t,r){e.exports=r.p+"img/moon.136ad332.png"},"4c79":function(e,t,r){"use strict";var s=r("d3d5"),a=r.n(s);a.a},5178:function(e,t,r){"use strict";var s=r("5a4c"),a=r.n(s);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("0cdd");var s=r("2b0e"),a=r("5f5b");r("ab8b"),r("2dd8");s["default"].use(a["a"]);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:e.mode,attrs:{id:"app"}},[s("div",{attrs:{id:"nav"}},[s("b-navbar-brand",{attrs:{id:"nav-logo",href:"#"}},[s("img",{attrs:{alt:"Jellyfin logo",src:r("cf05"),width:"40px"}}),e._v(" JellyStatin ")]),s("span",{class:{active:e.home,inactive:e.about},on:{click:function(t){return e.showHome()}}},[e._v(" Home ")]),e._v(" | "),s("span",{class:{active:e.about,inactive:e.home},on:{click:function(t){return e.showAbout()}}},[e._v(" About ")]),e._v(" | "),s("a",{directives:[{name:"show",rawName:"v-show",value:!e.isDark,expression:"!isDark"}],on:{click:function(t){return e.modeChange()}}},[s("img",{attrs:{src:r("4bc1"),alt:"dark mode",width:"20px"}})]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.isDark,expression:"isDark"}],on:{click:function(t){return e.modeChange()}}},[s("img",{attrs:{src:r("e9e7"),alt:"light mode",width:"20px"}})])],1),e.home?s("home",{attrs:{isDark:e.isDark}}):s("about")],1)},o=[],i={data(){return{isDark:!1}},methods:{darkMode(){this.isDark=!this.isDark,console.log("mixin.vue ".concat(this.isDark))}}},c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("b-container",[r("input-section",{attrs:{serverIP:e.serverIP,serverPort:e.serverPort,serverAPI:e.serverAPI,show:e.show,errFetch:e.errFetch,bgVariant:e.mode},on:{"update:serverIP":function(t){e.serverIP=t},"update:server-i-p":function(t){e.serverIP=t},"update:serverPort":function(t){e.serverPort=t},"update:server-port":function(t){e.serverPort=t},"update:serverAPI":function(t){e.serverAPI=t},"update:server-a-p-i":function(t){e.serverAPI=t},"all-stat":function(t){return e.allStats()},submit:function(t){return e.submit()}}}),r("b-row",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[r("b-col",{staticClass:"mt-3",attrs:{lg:"8"}},[r("b",{staticStyle:{"word-break":"break-all"},attrs:{id:"headLine"}},[e._v(" "+e._s(e.serverIP)+":"+e._s(e.serverPort)+"?api_key="+e._s(e.serverAPI)+" ")])]),r("b-col",{attrs:{lg:"4"}},[r("b-button",{staticClass:"m-2 pt-2",attrs:{variant:"success"},on:{click:function(t){return e.allStats()}}},[e._v(" Refresh ")]),r("b-button",{staticClass:"m-2 pt-2",attrs:{variant:"danger"},on:{click:function(t){return e.submit()}}},[e._v(" Reset ")])],1)],1),r("b-row",[r("b-col",{attrs:{lg:"6"}},[r("main-section",{attrs:{name:"System Info",show:e.show,items:e.systemStats,headVariant:e.mode,tableVariant:"danger",dark:e.isDark}}),r("user-section",{attrs:{serverIP:e.serverIP,serverPort:e.serverPort,serverAPI:e.serverAPI,users:e.users,show:e.show,headVariant:e.mode,tableVariant:"primary",dark:e.isDark},on:{"all-stat":function(t){return e.allStats()},submit:function(t){return e.submit()}}})],1),r("b-col",{attrs:{lg:"6"}},[r("main-section",{attrs:{name:"Plugins",show:e.show,items:e.plugins,headVariant:e.mode,tableVariant:"success",dark:e.isDark}})],1)],1),r("main-section",{attrs:{name:"Counts",show:e.show,items:e.counts,headVariant:e.mode,tableVariant:"info",dark:e.isDark}})],1)],1)},l=[],u=(r("e6cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"input-section"},[r("b-card",{staticClass:"text-center mx-auto",attrs:{"bg-variant":e.bgVariant,"text-variant":e.textVariant,header:"Welcome"}},[r("b-card-text",[r("b-row",[r("b-col",{attrs:{md:"8"}},[r("div",{attrs:{role:"group"}},[r("b-form-input",{attrs:{id:"input-live-ip",state:e.serverIPState,"aria-describedby":"input-live-help input-live-feedback",placeholder:"Jellyfin IP Address",trim:""},on:{keyup:function(t){return e.$emit("update:serverIP",e.serverIP)}},model:{value:e.serverIP,callback:function(t){e.serverIP=t},expression:"serverIP"}}),r("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v(" http:// or https:// must be used! ")])],1)]),r("b-col",{attrs:{md:"4"}},[r("b-form-input",{attrs:{id:"input-live-port",type:"text",state:e.serverPortState,"aria-describedby":"input-live-help input-live-feedback",placeholder:"Port",trim:""},on:{keyup:function(t){return e.$emit("update:serverPort",e.serverPort)}},model:{value:e.serverPort,callback:function(t){e.serverPort=t},expression:"serverPort"}})],1)],1),r("b-row",[r("b-col",[r("b-form-input",{attrs:{id:"input-live-api",state:e.serverAPIState,"aria-describedby":"input-live-help input-live-feedback",placeholder:"Jellyfin API key",trim:""},on:{keyup:function(t){return e.$emit("update:serverAPI",e.serverAPI)}},model:{value:e.serverAPI,callback:function(t){e.serverAPI=t},expression:"serverAPI"}})],1)],1)],1),r("b-button",{attrs:{variant:"primary"},on:{click:function(t){e.submit(),e.allStats()}}},[e._v(" Show Stats! ")])],1),r("error-section",{attrs:{errFetch:e.errFetch}}),r("quote-section",{attrs:{show:e.show}})],1)}),h=[],v=(r("841c"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.errFetch,expression:"errFetch"}],staticClass:"basic-data-section"},[r("b-alert",{staticClass:"mx-auto",attrs:{variant:"danger",show:"",dismissible:""}},[e._v(" Cannot Fetch API data from Jellyfin Server! Make sure all inputs are correctly filled. ")])],1)}),d=[],m={name:"error-section",props:{errFetch:Boolean}},p=m,f=(r("23ba"),r("2877")),b=Object(f["a"])(p,v,d,!1,null,null,null),g=b.exports,w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"quote-section"},[r("blockquote",{staticClass:"mx-auto"},[r("p",[r("i",[e._v(e._s(e.quote[0].name))])])]),r("i",{staticClass:"quote"},[e._v(e._s(e.quote[0].auth))])])},P=[],_={name:"quote-section",props:{show:Boolean},data(){return{quote:[]}},created(){fetch("http://quotes.rest/qod.json").then(e=>e.json()).then(e=>{this.quote.push({name:e.contents.quotes[0].quote,auth:e.contents.quotes[0].author})})}},k=_,y=(r("4c79"),Object(f["a"])(k,w,P,!1,null,"174346e1",null)),S=y.exports,I={name:"input-section",components:{ErrorSection:g,QuoteSection:S},props:{serverIP:String,serverPort:String,serverAPI:String,show:Boolean,errFetch:Boolean,bgVariant:String,textVariant:String},computed:{serverIPState(){return!this.serverIP.search("http")},serverPortState(){return 4==this.serverPort.length},serverAPIState(){return this.serverAPI.length>=15}},methods:{submit(){this.$emit("submit")},allStats(){this.$emit("all-stat")}}},x=I,A=(r("69c0"),Object(f["a"])(x,u,h,!1,null,null,null)),C=A.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"basic-section"},[e._m(0),r("b-table",{staticStyle:{"text-transform":"capitalize"},attrs:{"caption-top":"","head-variant":e.headVariant,"table-variant":e.tableVariant,dark:e.dark,"sticky-header":"400px",hover:"",fields:e.fields,items:e.users},scopedSlots:e._u([{key:"cell(index)",fn:function(t){return[t.index<9?r("span",[e._v("0")]):e._e(),e._v(e._s(t.index+1)+" ")]}},{key:"cell(userName)",fn:function(t){return[e._v(" "+e._s(t.item.userName)+" "),t.item.admin?r("small",[r("b-badge",{attrs:{pill:"",variant:"warning"}},[e._v(" A ")])],1):r("small",[r("b-badge",{attrs:{pill:"",variant:"success"}},[e._v(" U ")])],1)]}}])})],1)},V=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("caption",{attrs:{for:"users"}},[r("h1",[e._v("Users")])])}],D={name:"basic-section",props:{users:Array,show:Boolean,dark:Boolean,headVariant:String,tableVariant:String},data(){return{fields:["index",{key:"userName",label:"Username"},"lastSeen"]}},methods:{submit:function(){this.$emit("submit")},allStats:function(){this.$emit("all-stat")}}},O=D,E=Object(f["a"])(O,j,V,!1,null,null,null),$=E.exports,N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"main-section"},[r("caption",{staticStyle:{width:"250px"},attrs:{for:"stats"}},[r("h1",[e._v(e._s(e.name))])]),r("b-table",{attrs:{"caption-top":"","head-variant":e.headVariant,"table-variant":e.tableVariant,dark:e.dark,"sticky-header":"400px",striped:"",hover:"",items:e.items}})],1)},M=[],q={name:"main-section",props:{name:String,show:Boolean,items:Array,headVariant:String,tableVariant:String,dark:Boolean}},F=q,B=(r("5178"),Object(f["a"])(F,N,M,!1,null,null,null)),H=B.exports,J={name:"Home",components:{InputSection:C,UserSection:$,MainSection:H},props:{isDark:Boolean},data(){return{show:!0,errFetch:!1,activityErr:!1,isAdmin:!0,serverIP:"",serverPort:"",serverAPI:"",systemStats:[],users:[],counts:[],movies:[],tvShows:[],musics:[],others:[],plugins:[]}},methods:{submit:function(){this.serverIP&&this.serverAPI&&this.serverPort?(this.show=!this.show,this.activityErr=!1,this.errFetch=!1):this.errFetch=!0},allStats:function(){var e={ItemCount:"".concat(this.serverIP,":").concat(this.serverPort,"/Items/Counts?api_key=").concat(this.serverAPI),Users:"".concat(this.serverIP,":").concat(this.serverPort,"/Users?api_key=").concat(this.serverAPI),Plugins:"".concat(this.serverIP,":").concat(this.serverPort,"/emby/Plugins?api_key=").concat(this.serverAPI),SystemInfo:"".concat(this.serverIP,":").concat(this.serverPort,"/System/Info?api_key=").concat(this.serverAPI),LastActivity:"".concat(this.serverIP,":").concat(this.serverPort,"/user_usage_stats/user_activity?api_key=").concat(this.serverAPI),Artists:"".concat(this.serverIP,":").concat(this.serverPort,"/Artists?api_key=").concat(this.serverAPI)};fetch(e.SystemInfo).then(e=>e.json()).then(e=>{var t=[];t.push({name:e.ServerName,version:e.Version,update:e.SystemUpdateLevel,OS:e.OperatingSystem+" "+e.SystemArchitecture,_rowVariant:"danger"}),this.systemStats=t}).catch(e=>(this.errFetch=!0,this.show=!0,console.log("System Info Fetching Error"),e)),fetch(e.Plugins).then(e=>e.json()).then(e=>{for(var t=[],r=0;r<e.length;r++)t.push({name:e[r].Name,version:e[r].Version,description:e[r].Description});this.plugins=t}),fetch(e.Users).then(e=>e.json()).then(e=>{var t=[];function r(e){var t=new Date(Date.parse(e)),r=(new Date).getTime(),s=t.getTime(),a=Math.floor((r-s)/6e4),n=Math.floor(a/60),o=Math.floor(n/24),i=Math.floor(o/30),c=Math.floor(i/12);return(a<0?"In the future!":a<1&&"just now")||a<60&&"".concat(a," min ago")||n<24&&"".concat(n," hr ").concat(a-60*n," min ago")||o<31&&"".concat(o," days ").concat(n-24*o," hr ago")||i<12&&"".concat(i," months ").concat(o-30*i," days ago")||c<10&&"".concat(c," years ").concat(i-12*c," months ago")||c>=10&&"A Long Time Ago!"}for(var s=0;s<e.length;s++){var a=[];a[s]=r(e[s].LastActivityDate);var n=[];n[s]=e[s].Policy.IsAdministrator,t.push({userName:e[s].Name,lastSeen:a[s],admin:n[s]})}this.users=t}),fetch(e.ItemCount).then(e=>e.json()).then(e=>{var t=[];t.push({Movies:e.MovieCount,BoxSets:e.BoxSetCount,Series:e.SeriesCount,Episodes:e.EpisodeCount,Songs:e.SongCount,albums:e.AlbumCount,artists:e.ArtistCount,musicVideos:e.MusicVideoCount,Books:e.BookCount}),this.counts=t})}},computed:{mode(){return this.isDark?"dark":"light"}}},U=J,T=Object(f["a"])(U,c,l,!1,null,null,null),L=T.exports,W=r("f820"),R={mixins:[i],components:{Home:L,About:W["default"]},data(){return{about:!1,home:!0}},computed:{mode(){return this.isDark?"darkMode":"lightMode"}},methods:{modeChange:function(){this.isDark=!this.isDark,console.log("app.vue ".concat(this.isDark))},showAbout(){this.home=!1,this.about=!0},showHome(){this.home=!0,this.about=!1}}},z=R,G=(r("5c0b"),Object(f["a"])(z,n,o,!1,null,null,null)),Q=G.exports,Y=r("9483");Object(Y["a"])("".concat(require("electron").remote.app.getAppPath(),"service-worker.js"),{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var K=r("8c4f");s["default"].use(K["a"]);var X=[{path:"/",name:"Home",component:L},{path:"/about",name:"About",component:()=>Promise.resolve().then(r.bind(null,"f820"))}],Z=new K["a"]({routes:X}),ee=Z,te=r("2f62");s["default"].use(te["a"]);var re=new te["a"].Store({state:{},mutations:{},actions:{},modules:{}});s["default"].config.productionTip=!1,new s["default"]({router:ee,store:re,render:e=>e(Q)}).$mount("#app")},"57e8":function(e,t,r){},"5a4c":function(e,t,r){},"5c0b":function(e,t,r){"use strict";var s=r("9c0c"),a=r.n(s);a.a},"69c0":function(e,t,r){"use strict";var s=r("b7a7"),a=r.n(s);a.a},"9c0c":function(e,t,r){},b7a7:function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.fffdbd34.png"},d3d5:function(e,t,r){},e9e7:function(e,t,r){e.exports=r.p+"img/sun.45a47cad.png"},f820:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("img",{attrs:{alt:"Vue logo",height:"120px",src:r("cf05")}}),s("br"),s("br"),s("HelloWorld",{attrs:{msg:"jellyStatin"}})],1)},a=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),e._m(1)])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" This is an application for showing some basic statics of your "),r("em",[r("a",{attrs:{href:"https://jellyfin.org/",target:"_blank"}},[e._v("Jellyfin server")])]),e._v(". ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" It is built on "),r("em",[e._v("Vue.js")]),e._v(", "),r("em",[e._v("Bootstrapvue")]),e._v(" and "),r("em",[e._v("Electron.js")]),e._v(". You can find the source code at "),r("a",{attrs:{href:"https://gitlab.com/mahi160/jellystat",target:"_blank"}},[e._v("Gitlab")])])}],i={name:"HelloWorld",props:{msg:String}},c=i,l=(r("2601"),r("2877")),u=Object(l["a"])(c,n,o,!1,null,"4e5660d3",null),h=u.exports,v={name:"Home",components:{HelloWorld:h}},d=v,m=Object(l["a"])(d,s,a,!1,null,null,null);t["default"]=m.exports}});
//# sourceMappingURL=app.1af88d6d.js.map